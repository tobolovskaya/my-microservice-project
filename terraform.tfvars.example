# Приклад файлу terraform.tfvars
# Скопіюйте цей файл як terraform.tfvars та заповніть своїми значеннями

# AWS налаштування
aws_region = "us-west-2"

# VPC налаштування
vpc_cidr = "10.0.0.0/16"
availability_zones = ["us-west-2a", "us-west-2b"]
public_subnet_cidrs = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.10.0/24", "10.0.20.0/24"]

# RDS налаштування
use_aurora = false  # true для Aurora, false для звичайної RDS
db_engine = "postgres"  # postgres, mysql, mariadb
db_engine_version = "15.4"
db_instance_class = "db.t3.micro"

# База даних
database_name = "myapp"
db_username = "dbadmin"
db_password = "your-secure-password-here"  # ЗМІНІТЬ НА БЕЗПЕЧНИЙ ПАРОЛЬ!

# Додаткові налаштування
multi_az = false
backup_retention_period = 7
backup_window = "03:00-04:00"
maintenance_window = "sun:04:00-sun:05:00"

# EKS налаштування
eks_cluster_name = "my-eks-cluster"
kubernetes_version = "1.28"
enable_ebs_csi_driver = true

# Node Groups конфігурація
node_groups = [
  {
    name                        = "main"
    instance_types             = ["t3.medium"]
    ami_type                   = "AL2_x86_64"
    capacity_type              = "ON_DEMAND"
    desired_size               = 2
    max_size                   = 4
    min_size                   = 1
    max_unavailable_percentage = 25
    disk_size                  = 50
    disk_type                  = "gp3"
    subnet_ids                 = []  # Буде заповнено автоматично
    labels                     = {
      Environment = "dev"
      NodeGroup   = "main"
    }
    taints                     = []
    bootstrap_extra_args       = ""
  }
]

# ECR налаштування
ecr_repository_name = "my-app"
ecr_image_tag_mutability = "MUTABLE"  # MUTABLE або IMMUTABLE
ecr_scan_on_push = true
ecr_enable_registry_scanning = false
ecr_encryption_type = "AES256"  # AES256 або KMS
ecr_enable_lifecycle_policy = true
ecr_max_image_count = 10
ecr_untagged_image_days = 1
ecr_enable_cross_account_access = false
ecr_cross_account_arns = []

# Теги
common_tags = {
  Environment = "dev"
  Project     = "terraform-rds-module"
  ManagedBy   = "terraform"
  Owner       = "your-name"
}

# Jenkins налаштування
jenkins_release_name = "jenkins"
jenkins_namespace = "jenkins"
jenkins_helm_chart_version = "4.8.3"
jenkins_admin_user = "admin"
jenkins_admin_password = "your-secure-jenkins-password"  # ЗМІНІТЬ НА БЕЗПЕЧНИЙ ПАРОЛЬ!

# Jenkins ресурси
jenkins_resources = {
  requests = {
    cpu    = "500m"
    memory = "1Gi"
  }
  limits = {
    cpu    = "2"
    memory = "4Gi"
  }
}

# Jenkins сховище
jenkins_persistence_enabled = true
jenkins_storage_size = "20Gi"
jenkins_storage_class = "gp3"
jenkins_create_pvc = true

# Jenkins мережа
jenkins_service_type = "ClusterIP"
jenkins_create_load_balancer_service = false
jenkins_ingress_enabled = true
jenkins_ingress_hostname = "jenkins.yourdomain.com"  # ЗМІНІТЬ НА ВАШ ДОМЕН!
jenkins_ingress_class_name = "nginx"
jenkins_ingress_tls_enabled = true
jenkins_ingress_tls_secret_name = "jenkins-tls"

# Jenkins плагіни
jenkins_install_plugins = [
  "kubernetes:4029.v5712230ccb_f8",
  "workflow-aggregator:596.v8c21c963d92d",
  "git:5.0.0",
  "configuration-as-code:1670.v564dc8b_982d0",
  "blueocean:1.27.2",
  "docker-workflow:563.vd5d2e5c4007f",
  "aws-credentials:191.vcb_f183ce58b_9",
  "amazon-ecr:1.7.3",
  "github:1.37.3.1",
  "slack:631.v40deea_40323b"
]

# Jenkins автоскейлінг
jenkins_enable_hpa = false
jenkins_hpa_min_replicas = 1
jenkins_hpa_max_replicas = 3
jenkins_hpa_target_cpu_utilization = 70
jenkins_hpa_target_memory_utilization = 80

# Jenkins моніторинг
jenkins_enable_prometheus_monitoring = true
jenkins_prometheus_scrape_interval = "30s"

# Jenkins backup
jenkins_enable_backup = false
jenkins_backup_schedule = "0 2 * * *"
jenkins_backup_retention_days = 30

# Jenkins додаткові налаштування
jenkins_timezone = "Europe/Kiev"
jenkins_java_opts = "-Xmx2g -Xms1g"
jenkins_enable_csrf_protection = true
jenkins_enable_script_security = true
jenkins_agent_connection_timeout = 100

# Argo CD налаштування
argocd_release_name = "argocd"
argocd_namespace = "argocd"
argocd_helm_chart_version = "5.51.6"
argocd_admin_password = "your-secure-argocd-password"  # ЗМІНІТЬ НА БЕЗПЕЧНИЙ ПАРОЛЬ!

# Argo CD ресурси
argocd_controller_resources = {
  requests = {
    cpu    = "250m"
    memory = "1Gi"
  }
  limits = {
    cpu    = "500m"
    memory = "2Gi"
  }
}

argocd_server_resources = {
  requests = {
    cpu    = "100m"
    memory = "128Mi"
  }
  limits = {
    cpu    = "500m"
    memory = "512Mi"
  }
}

argocd_repo_server_resources = {
  requests = {
    cpu    = "100m"
    memory = "256Mi"
  }
  limits = {
    cpu    = "1"
    memory = "1Gi"
  }
}

# Argo CD High Availability
argocd_enable_ha = false
argocd_controller_replicas = 1
argocd_server_replicas = 2
argocd_repo_server_replicas = 2

# Argo CD мережа
argocd_service_type = "ClusterIP"
argocd_create_load_balancer_service = false
argocd_ingress_enabled = true
argocd_ingress_hostname = "argocd.yourdomain.com"  # ЗМІНІТЬ НА ВАШ ДОМЕН!
argocd_ingress_class_name = "nginx"
argocd_ingress_tls_enabled = true
argocd_ingress_tls_secret_name = "argocd-tls"

# Argo CD функціональність
argocd_enable_metrics = true
argocd_enable_notifications = true
argocd_enable_applicationset = true
argocd_enable_dex = false

# Argo CD автоскейлінг
argocd_enable_hpa = false
argocd_hpa_min_replicas = 2
argocd_hpa_max_replicas = 5
argocd_hpa_target_cpu_utilization = 70
argocd_hpa_target_memory_utilization = 80

# Argo CD моніторинг
argocd_enable_prometheus_monitoring = true
argocd_prometheus_scrape_interval = "30s"

# Argo CD backup
argocd_enable_backup = false
argocd_backup_schedule = "0 2 * * *"
argocd_backup_retention_days = 30

# Argo CD GitOps
argocd_create_demo_application = false
argocd_demo_app_repo_url = "https://github.com/argoproj/argocd-example-apps.git"
argocd_demo_app_target_revision = "HEAD"
argocd_demo_app_path = "guestbook"
argocd_demo_app_namespace = "default"

# Argo CD AppProject
argocd_create_app_project = false
argocd_app_project_name = "default"
argocd_app_project_source_repos = ["*"]
argocd_app_project_admin_groups = []
argocd_app_project_developer_groups = []

# Argo CD додаткові налаштування
argocd_timezone = "Europe/Kiev"
argocd_log_level = "info"
argocd_log_format = "text"
argocd_sync_timeout = 300
argocd_self_heal_timeout = 5
argocd_enable_webhooks = true
argocd_webhook_github_secret = ""
argocd_webhook_gitlab_secret = ""